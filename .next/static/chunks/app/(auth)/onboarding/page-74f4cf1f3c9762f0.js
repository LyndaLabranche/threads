(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{7450:function(e,t,r){Promise.resolve().then(r.bind(r,5368)),Promise.resolve().then(r.bind(r,2145)),Promise.resolve().then(r.bind(r,3530)),Promise.resolve().then(r.bind(r,1507)),Promise.resolve().then(r.bind(r,1726)),Promise.resolve().then(r.t.bind(r,3388,23))},5368:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(6705),l=r(1865),s=r(8110),n=r(4578);let i=n.Ry({profile_photo:n.Z_().url().nonempty(),name:n.Z_().min(3).max(30),username:n.Z_().min(3).max(30),bio:n.Z_().min(3).max(1e3)});var o=r(6691),d=r.n(o),c=r(459),f=r(1908),u=r(3023),m=r(5771),x=r(955);r(8877);var b=r(9322);let{useUploadThing:h,uploadFiles:p}=(0,b.$)();var g=r(9311);r(2655),r(470);var v=r(1162),j=(0,v.$)("ff1d10e4c4589040540250355c302d70862062e6");(0,v.$)("1596b48302c0ee3dbe71040264d262724aaf5922"),(0,v.$)("4136361b190c15107930ce3a82a69c155f3f5e21"),(0,v.$)("a1a227a67ee82139c2a8df61f007c4e13a42bd7d"),(0,v.$)("8ec1f8a9f390f17362a26d8913fa4e2dfef86fce");var N=r(4033),k=e=>{let{user:t,btnTitle:r}=e,[n,o]=(0,x.useState)([]),{startUpload:b}=h("media"),p=(0,N.useRouter)(),v=(0,N.usePathname)(),k=(0,l.cI)({resolver:(0,s.F)(i),defaultValues:{profile_photo:(null==t?void 0:t.image)?t.image:"",name:(null==t?void 0:t.name)?t.name:"",username:(null==t?void 0:t.username)?t.username:"",bio:(null==t?void 0:t.bio)?t.bio:""}}),w=(e,t)=>{e.preventDefault();let r=new FileReader;if(e.target.files&&e.target.files.length>0){let a=e.target.files[0];if(o(Array.from(e.target.files)),!a.type.includes("image"))return;r.onload=async e=>{var r,a;let l=(null===(a=e.target)||void 0===a?void 0:null===(r=a.result)||void 0===r?void 0:r.toString())||"";t(l)},r.readAsDataURL(a)}},y=async e=>{let r=e.profile_photo,a=(0,g.dY)(r);if(a){let t=await b(n);t&&t[0].url&&(e.profile_photo=t[0].url)}await j({userId:t.id,username:e.username,name:e.name,bio:e.bio,image:e.profile_photo,path:v}),"/profile/edit"===v?p.back():p.push("/")};return(0,a.jsx)(c.l0,{...k,children:(0,a.jsxs)("form",{onSubmit:k.handleSubmit(y),className:"flex flex-col justify-start gap-10",children:[(0,a.jsx)(c.Wi,{control:k.control,name:"profile_photo",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex items-center gap-4",children:[(0,a.jsx)(c.lX,{className:"account-form_image-label",children:t.value?(0,a.jsx)(d(),{src:t.value,alt:"profile_photo",width:96,height:96,priority:!0,className:"rounded-full object-contain"}):(0,a.jsx)(d(),{src:"/assets/profile.svg",alt:"profile_photo",width:24,height:24,className:"object-contain"})}),(0,a.jsx)(c.NI,{className:"flex-1 text-base-semibold text-gray-200",children:(0,a.jsx)(f.I,{type:"file",accept:"image/*",placeholder:"Add profile photo",...t,value:"",className:"account-form_image-input",onChange:e=>w(e,t.onChange)})}),(0,a.jsx)(c.zG,{})]})}}),(0,a.jsx)(c.Wi,{control:k.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[(0,a.jsx)(c.lX,{className:"text-base-semibold text-light-2",children:"Name"}),(0,a.jsx)(c.NI,{children:(0,a.jsx)(f.I,{type:"text",className:"account-form_input no-focus",...t})}),(0,a.jsx)(c.zG,{})]})}}),(0,a.jsx)(c.Wi,{control:k.control,name:"username",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[(0,a.jsx)(c.lX,{className:"text-base-semibold text-light-2 gap-3 w-full",children:"Username"}),(0,a.jsx)(c.NI,{children:(0,a.jsx)(f.I,{type:"text",className:"account-form_input",...t})}),(0,a.jsx)(c.zG,{})]})}}),(0,a.jsx)(c.Wi,{control:k.control,name:"bio",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[(0,a.jsx)(c.lX,{className:"text-base-semibold text-light-2 gap-3 w-full",children:"Bio"}),(0,a.jsx)(c.NI,{children:(0,a.jsx)(m.g,{rows:10,className:"account-form_input",...t})}),(0,a.jsx)(c.zG,{})]})}}),(0,a.jsx)(u.z,{type:"submit",className:"bg-primary-500",children:"Submit"})]})})}},3023:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(6705),l=r(955),s=r(7256),n=r(6061),i=r(9311);let o=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:r,variant:l,size:n,asChild:d=!1,...c}=e,f=d?s.g7:"button";return(0,a.jsx)(f,{className:(0,i.cn)(o({variant:l,size:n,className:r})),ref:t,...c})});d.displayName="Button"},459:function(e,t,r){"use strict";r.d(t,{l0:function(){return u},NI:function(){return v},Wi:function(){return x},xJ:function(){return p},lX:function(){return g},zG:function(){return N}});var a=r(6705),l=r(955),s=r(7256),n=r(1865),i=r(9311),o=r(6743),d=r(6061);let c=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(o.f,{ref:t,className:(0,i.cn)(c(),r),...l})});f.displayName=o.f.displayName;let u=n.RV,m=l.createContext({}),x=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},children:(0,a.jsx)(n.Qr,{...t})})},b=()=>{let e=l.useContext(m),t=l.useContext(h),{getFieldState:r,formState:a}=(0,n.Gc)(),s=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...s}},h=l.createContext({}),p=l.forwardRef((e,t)=>{let{className:r,...s}=e,n=l.useId();return(0,a.jsx)(h.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...s})})});p.displayName="FormItem";let g=l.forwardRef((e,t)=>{let{className:r,...l}=e,{error:s,formItemId:n}=b();return(0,a.jsx)(f,{ref:t,className:(0,i.cn)(s&&"text-red-500 dark:text-red-900",r),htmlFor:n,...l})});g.displayName="FormLabel";let v=l.forwardRef((e,t)=>{let{...r}=e,{error:l,formItemId:n,formDescriptionId:i,formMessageId:o}=b();return(0,a.jsx)(s.g7,{ref:t,id:n,"aria-describedby":l?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!l,...r})});v.displayName="FormControl";let j=l.forwardRef((e,t)=>{let{className:r,...l}=e,{formDescriptionId:s}=b();return(0,a.jsx)("p",{ref:t,id:s,className:(0,i.cn)("text-sm text-slate-500 dark:text-slate-400",r),...l})});j.displayName="FormDescription";let N=l.forwardRef((e,t)=>{let{className:r,children:l,...s}=e,{error:n,formMessageId:o}=b(),d=n?String(null==n?void 0:n.message):l;return d?(0,a.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-red-500 dark:text-red-900",r),...s,children:d}):null});N.displayName="FormMessage"},1908:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(6705),l=r(955),s=r(9311);let n=l.forwardRef((e,t)=>{let{className:r,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,s.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...n})});n.displayName="Input"},5771:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var a=r(6705),l=r(955),s=r(9311);let n=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...l})});n.displayName="Textarea"},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return s},dY:function(){return n}});var a=r(7042),l=r(3986);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.m)((0,a.W)(t))}function n(e){return/^data:image\/(png|jpe?g|gif|webp);base64,/.test(e)}},8877:function(){}},function(e){e.O(0,[583,964,600,87,136,404,121,26,744],function(){return e(e.s=7450)}),_N_E=e.O()}]);